<!doctype html>
<html>
  <head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <!-- LOGIN -->
    <div class="card" id="loginCard">
      <h2>Admin Login</h2>
      <input id="username" placeholder="Username" />
      <!-- <input id="password" type="password" placeholder="Password" /> -->
      <div class="password-wrapper">
        <input id="password" type="password" placeholder="Password" />
        <span class="toggle-password" onclick="togglePassword()">ğŸ‘</span>
      </div>
      <button onclick="login()">Login</button>
      <button onclick="location.href = '/'">Get Back to Home</button>
    </div>

    <!-- ADMIN PANEL -->
    <div class="admin-container hidden" id="panel">
      <div class="admin-header">
        <h1>Submitted Requests</h1>
        <div class="admin-actions">
          <input
            type="text"
            placeholder="Search..."
            onkeyup="searchTable(this.value)"
          />
          <button class="btn refresh" onclick="refreshTable()">
            ğŸ”„ Refresh
          </button>
          <button class="add-btn" onclick="openModal()">+ Add New</button>
          <button class="btn download" onclick="downloadExcel()">
            â¬‡ Download as Excel
          </button>
          <button class="btn logout" onclick="logout()">ğŸšª Logout</button>
        </div>
      </div>
      <table class="admin-table">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Phone</th>
            <th>Address</th>
            <th>Email</th>
            <th>Issue</th>
            <th>Mobile</th>
            <th>Bank</th>
            <th>Device</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="data"></tbody>
      </table>
      <div class="pagination">
        <button id="prevBtn" onclick="prevPage()">â¬… Prev</button>
        <span id="pageInfo">Page 1</span>
        <button id="nextBtn" onclick="nextPage()">Next â¡</button>
      </div>
    </div>

    <div id="confirmModal" class="confirm-modal hidden">
      <div class="confirm-box">
        <p>Are you sure you want to delete this record?</p>
        <div class="confirm-actions">
          <button class="btn-cancel" onclick="closeConfirm()">Cancel</button>
          <button class="btn-delete" onclick="confirmDelete()">Delete</button>
        </div>
      </div>
    </div>

    <!-- MODAL -->
    <div class="modal hidden" id="modal">
      <div class="modal-content">
        <h2>Add / Edit Request</h2>

        <input id="m_first_name" placeholder="First Name" />
        <input id="m_last_name" placeholder="Last Name" />
        <input id="m_address" placeholder="Address" />
        <input id="m_phone" placeholder="Phone" maxlength="10" />
        <input id="m_mobile" placeholder="Mobile" maxlength="10" />
        <input id="m_email" placeholder="Email" type="email" />
        <input id="m_bank" placeholder="Bank" />
        <input id="m_device" placeholder="Device" />
        <textarea id="m_description" placeholder="Issue"></textarea>

        <button onclick="save()">Save</button>
        <button class="cancel" onclick="closeModal()">Cancel</button>
      </div>
    </div>

    <!-- TOAST -->
    <div id="toast" class="toast hidden">âŒ Admin credentials do not match</div>

    <script src="/script.js"></script>
  </body>
</html>
